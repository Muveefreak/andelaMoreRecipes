"use strict";

!function () {
  var a = {},
      b = function b(_b) {
    for (var c = a[_b], e = c.deps, f = c.defn, g = e.length, h = new Array(g), i = 0; i < g; ++i) {
      h[i] = d(e[i]);
    }var j = f.apply(null, h);if (void 0 === j) throw "module [" + _b + "] returned undefined";c.instance = j;
  },
      c = function c(b, _c, d) {
    if ("string" != typeof b) throw "module id must be a string";if (void 0 === _c) throw "no dependencies for " + b;if (void 0 === d) throw "no definition function for " + b;a[b] = { deps: _c, defn: d, instance: void 0 };
  },
      d = function d(c) {
    var d = a[c];if (void 0 === d) throw "module [" + c + "] was undefined";return void 0 === d.instance && b(c), d.instance;
  },
      e = function e(a, b) {
    for (var c = a.length, e = new Array(c), f = 0; f < c; ++f) {
      e.push(d(a[f]));
    }b.apply(null, b);
  },
      f = {};f.bolt = { module: { api: { define: c, require: e, demand: d } } };var g = c,
      h = function h(a, b) {
    g(a, [], function () {
      return b;
    });
  };h("7", tinymce.util.Tools.resolve), g("1", ["7"], function (a) {
    return a("tinymce.dom.DOMUtils");
  }), g("2", ["7"], function (a) {
    return a("tinymce.Env");
  }), g("3", ["7"], function (a) {
    return a("tinymce.PluginManager");
  }), g("4", ["7"], function (a) {
    return a("tinymce.ui.Factory");
  }), g("5", ["7"], function (a) {
    return a("tinymce.util.Tools");
  }), h("a", Array), h("b", Error), g("d", ["a", "b"], function (a, b) {
    var c = function c() {},
        d = function d(a, b) {
      return function () {
        return a(b.apply(null, arguments));
      };
    },
        e = function e(a) {
      return function () {
        return a;
      };
    },
        f = function f(a) {
      return a;
    },
        g = function g(a, b) {
      return a === b;
    },
        h = function h(b) {
      for (var c = new a(arguments.length - 1), d = 1; d < arguments.length; d++) {
        c[d - 1] = arguments[d];
      }return function () {
        for (var d = new a(arguments.length), e = 0; e < d.length; e++) {
          d[e] = arguments[e];
        }var f = c.concat(d);return b.apply(null, f);
      };
    },
        i = function i(a) {
      return function () {
        return !a.apply(null, arguments);
      };
    },
        j = function j(a) {
      return function () {
        throw new b(a);
      };
    },
        k = function k(a) {
      return a();
    },
        l = function l(a) {
      a();
    },
        m = e(!1),
        n = e(!0);return { noop: c, compose: d, constant: e, identity: f, tripleEquals: g, curry: h, not: i, die: j, apply: k, call: l, never: m, always: n };
  }), h("e", Object), g("9", ["d", "e"], function (a, b) {
    var c = a.never,
        d = a.always,
        e = function e() {
      return f;
    },
        f = function () {
      var f = function f(a) {
        return a.isNone();
      },
          g = function g(a) {
        return a();
      },
          h = function h(a) {
        return a;
      },
          i = function i() {},
          j = { fold: function fold(a, b) {
          return a();
        }, is: c, isSome: c, isNone: d, getOr: h, getOrThunk: g, getOrDie: function getOrDie(a) {
          throw new Error(a || "error: getOrDie called on none.");
        }, or: h, orThunk: g, map: e, ap: e, each: i, bind: e, flatten: e, exists: c, forall: d, filter: e, equals: f, equals_: f, toArray: function toArray() {
          return [];
        }, toString: a.constant("none()") };return b.freeze && b.freeze(j), j;
    }(),
        g = function g(a) {
      var b = function b() {
        return a;
      },
          h = function h() {
        return k;
      },
          i = function i(b) {
        return g(b(a));
      },
          j = function j(b) {
        return b(a);
      },
          k = { fold: function fold(b, c) {
          return c(a);
        }, is: function is(b) {
          return a === b;
        }, isSome: d, isNone: c, getOr: b, getOrThunk: b, getOrDie: b, or: h, orThunk: h, map: i, ap: function ap(b) {
          return b.fold(e, function (b) {
            return g(b(a));
          });
        }, each: function each(b) {
          b(a);
        }, bind: j, flatten: b, exists: j, forall: j, filter: function filter(b) {
          return b(a) ? k : f;
        }, equals: function equals(b) {
          return b.is(a);
        }, equals_: function equals_(b, d) {
          return b.fold(c, function (b) {
            return d(a, b);
          });
        }, toArray: function toArray() {
          return [a];
        }, toString: function toString() {
          return "some(" + a + ")";
        } };return k;
    },
        h = function h(a) {
      return null === a || void 0 === a ? f : g(a);
    };return { some: g, none: e, from: h };
  }), h("c", String), g("8", ["9", "a", "b", "c"], function (a, b, c, d) {
    var e = function () {
      var a = b.prototype.indexOf,
          c = function c(b, _c2) {
        return a.call(b, _c2);
      },
          d = function d(a, b) {
        return u(a, b);
      };return void 0 === a ? d : c;
    }(),
        f = function f(b, c) {
      var d = e(b, c);return d === -1 ? a.none() : a.some(d);
    },
        g = function g(a, b) {
      return e(a, b) > -1;
    },
        h = function h(a, b) {
      return t(a, b).isSome();
    },
        i = function i(a, b) {
      for (var c = [], d = 0; d < a; d++) {
        c.push(b(d));
      }return c;
    },
        j = function j(a, b) {
      for (var c = [], d = 0; d < a.length; d += b) {
        var e = a.slice(d, d + b);c.push(e);
      }return c;
    },
        k = function k(a, c) {
      for (var d = a.length, e = new b(d), f = 0; f < d; f++) {
        var g = a[f];e[f] = c(g, f, a);
      }return e;
    },
        l = function l(a, b) {
      for (var c = 0, d = a.length; c < d; c++) {
        var e = a[c];b(e, c, a);
      }
    },
        m = function m(a, b) {
      for (var c = a.length - 1; c >= 0; c--) {
        var d = a[c];b(d, c, a);
      }
    },
        n = function n(a, b) {
      for (var c = [], d = [], e = 0, f = a.length; e < f; e++) {
        var g = a[e],
            h = b(g, e, a) ? c : d;h.push(g);
      }return { pass: c, fail: d };
    },
        o = function o(a, b) {
      for (var c = [], d = 0, e = a.length; d < e; d++) {
        var f = a[d];b(f, d, a) && c.push(f);
      }return c;
    },
        p = function p(a, b) {
      if (0 === a.length) return [];for (var c = b(a[0]), d = [], e = [], f = 0, g = a.length; f < g; f++) {
        var h = a[f],
            i = b(h);i !== c && (d.push(e), e = []), c = i, e.push(h);
      }return 0 !== e.length && d.push(e), d;
    },
        q = function q(a, b, c) {
      return m(a, function (a) {
        c = b(c, a);
      }), c;
    },
        r = function r(a, b, c) {
      return l(a, function (a) {
        c = b(c, a);
      }), c;
    },
        s = function s(b, c) {
      for (var d = 0, e = b.length; d < e; d++) {
        var f = b[d];if (c(f, d, b)) return a.some(f);
      }return a.none();
    },
        t = function t(b, c) {
      for (var d = 0, e = b.length; d < e; d++) {
        var f = b[d];if (c(f, d, b)) return a.some(d);
      }return a.none();
    },
        u = function u(a, b) {
      for (var c = 0, d = a.length; c < d; ++c) {
        if (a[c] === b) return c;
      }return -1;
    },
        v = b.prototype.push,
        w = function w(a) {
      for (var d = [], e = 0, f = a.length; e < f; ++e) {
        if (!b.prototype.isPrototypeOf(a[e])) throw new c("Arr.flatten item " + e + " was not an array, input: " + a);v.apply(d, a[e]);
      }return d;
    },
        x = function x(a, b) {
      var c = k(a, b);return w(c);
    },
        y = function y(a, b) {
      for (var c = 0, d = a.length; c < d; ++c) {
        var e = a[c];if (b(e, c, a) !== !0) return !1;
      }return !0;
    },
        z = function z(a, b) {
      return a.length === b.length && y(a, function (a, c) {
        return a === b[c];
      });
    },
        A = b.prototype.slice,
        B = function B(a) {
      var b = A.call(a, 0);return b.reverse(), b;
    },
        C = function C(a, b) {
      return o(a, function (a) {
        return !g(b, a);
      });
    },
        D = function D(a, b) {
      for (var c = {}, e = 0, f = a.length; e < f; e++) {
        var g = a[e];c[d(g)] = b(g, e);
      }return c;
    },
        E = function E(a) {
      return [a];
    },
        F = function F(a, b) {
      var c = A.call(a, 0);return c.sort(b), c;
    };return { map: k, each: l, eachr: m, partition: n, filter: o, groupBy: p, indexOf: f, foldr: q, foldl: r, find: s, findIndex: t, flatten: w, bind: x, forall: y, exists: h, contains: g, equal: z, reverse: B, chunk: j, difference: C, mapToObject: D, pure: E, sort: F, range: i };
  }), g("6", ["8"], function (a) {
    var b = function b(a, _b2, c) {
      return _b2 >= a.left && _b2 <= a.right && c >= a.top && c <= a.bottom;
    },
        c = function c(_c3, d, e) {
      return !e.collapsed && a.foldl(e.getClientRects(), function (a, e) {
        return a || b(e, _c3, d);
      }, !1);
    };return { isXYWithinRange: c };
  }), g("0", ["1", "2", "3", "4", "5", "6"], function (a, b, c, d, e, f) {
    var g = a.DOM;return c.add("contextmenu", function (a) {
      var c,
          h,
          i = a.settings.contextmenu_never_use_native,
          j = function j(a) {
        return a.ctrlKey && !i;
      },
          k = function k() {
        return b.mac && b.webkit;
      },
          l = function l() {
        return h === !0;
      },
          m = function m(a) {
        return a && "IMG" === a.nodeName;
      },
          n = function n(a, b) {
        return m(a.target) && f.isXYWithinRange(a.clientX, a.clientY, b) === !1;
      };return a.on("mousedown", function (b) {
        k() && 2 === b.button && !j(b) && a.selection.isCollapsed() && a.once("contextmenu", function (b) {
          m(b.target) || a.selection.placeCaretAt(b.clientX, b.clientY);
        });
      }), a.on("contextmenu", function (b) {
        var f;if (!j(b)) {
          if (n(b, a.selection.getRng()) && a.selection.select(b.target), b.preventDefault(), f = a.settings.contextmenu || "link openlink image inserttable | cell row column deletetable", c) c.show();else {
            var i = [];e.each(f.split(/[ ,]/), function (b) {
              var c = a.menuItems[b];"|" == b && (c = { text: b }), c && (c.shortcut = "", i.push(c));
            });for (var k = 0; k < i.length; k++) {
              "|" == i[k].text && (0 !== k && k != i.length - 1 || i.splice(k, 1));
            }c = d.create("menu", { items: i, context: "contextmenu", classes: "contextmenu" }).renderTo(), c.on("hide", function (a) {
              a.control === this && (h = !1);
            }), a.on("remove", function () {
              c.remove(), c = null;
            });
          }var l = { x: b.pageX, y: b.pageY };a.inline || (l = g.getPos(a.getContentAreaContainer()), l.x += b.clientX, l.y += b.clientY), c.moveTo(l.x, l.y), h = !0;
        }
      }), { isContextMenuVisible: l };
    }), function () {};
  }), d("0")();
}();